---
import moment from "moment";

interface Props {
  slug: string;
  title: string;
  createdTime: string;
  tags: Array<string>;
}

const { slug, title, createdTime, tags } = Astro.props;
---

<div class="post-elements">
  <a href={"/post/" + slug}>
    <h2>{title}</h2>
    <div class="post-preview my-1">
      <slot />
    </div>
  </a>
  <div class="meta-row">
    <div class="tag-list">
      {
        tags.map(tag => (
          <a href={"/tags/" + tag} class="tag-badge">#{tag}</a>
        ))
      }
    </div>
    <div class="date-display">{moment(createdTime).format("YYYY/MM/DD")}</div>
  </div>
</div>
<style>
  .post-preview {
    color: #94a3b8;
    font-size: 0.9rem;
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }
  
  .my-1 {
    margin: 0.25rem 0;
  }
  
  .post-elements > * > h2 {
    font-size: 1.5rem;
    font-weight: 700;
  }
  
  .post-elements > * > .date-display {
    color: #94a3b8;
    font-size: 0.85rem;
  }
  
  .date-display {
    color: #94a3b8;
    font-size: 0.85rem;
  }

  .meta-row {
    display: flex;
    flex-direction: row;
    align-items: center;
    justify-content: space-between;
    margin-top: 0.75rem;
  }

  .tag-list {
    display: flex;
    flex-wrap: wrap;
    gap: 0.375rem;
  }

  .post-elements {
    padding: 1rem 1.25rem;
    border-radius: 0.75rem;
    border: 1px solid #475569;
    transition: all 0.3s ease;
  }
  
  .post-elements:hover {
    box-shadow: 0 4px 6px -1px rgba(30, 64, 175, 0.3);
    border-color: #1e40af;
  }
</style>
